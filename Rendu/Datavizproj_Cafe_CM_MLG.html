<!DOCTYPE HTML>
<html>
<link rel="icon" type="image/png" href="http://signsmash.com/image/cache/data/catering/cafe/vvvv-700x700.jpg" />
<style>
div {
    resize: horizontal;
    display: block;

}
p {

	color: gray;
}

img{
    margin: 0cm 4cm 3cm 4cm;
}


* {margin: 0; padding: 0;}

a {text-decoration: none;
}

/* This class is added on scroll */
.fixed {
	position: fixed;
	top: 0;
	height: 70px;
	z-index: 1;
}

body {
	
	font-family: 'open-sans-bold', AvenirNext-Medium, sans-serif;
	font-size: 18px;
	text-align: center;
	margin: 50px;

}

h1 {
	color:#7577cd;
	text-align: left;
	padding:50px 50px 50px 0px;
}

/* Navigation Settings */
nav {
	position: absolute;
	bottom: 0;
	width: 100%;
	height: 70px;
	background: #fff;
}

nav li {
	display: inline-block;
	padding: 24px 10px;
}

nav li a {
	color: #757575;
	text-transform: uppercase;
}


/* Screens Settings */
#screen1 {
	background: #7577cd;
}

#screen1 p {
	padding-top: 200px;
}

#screen2 {
	background: #efc94d;
}

#screen3 {
	background: #e1793d;
}

@media only screen and (max-width: 520px) {

	nav li {
		padding: 24px 4px;
	}

	nav li a {
		font-size: 14px;
	}

}

section{
	clear: both;
	padding: 50px;

	}
/* Stat descriptive CSS */
#result {
    text-align: right;
    color: gray;
    min-height: 2em;
    float: left;
}
#table-sparkline {
    margin: 0;
    border-collapse: collapse;
}
th {
    font-weight: bold;
    text-align: left;
    padding: 5px;
    border-bottom: 1px solid silver;
    height: 20px;
}

td{
    padding: 5px;
    border-bottom: 1px solid silver;
    height: 20px;
    text-align: right;
}

thead th {
    border-top: 2px solid gray;
    border-bottom: 2px solid gray;
}
.highcharts-tooltip>span {
    background: white;
    border: 1px solid silver;
    border-radius: 3px;
    box-shadow: 1px 1px 2px #888;
    padding: 8px;
}
.highcharts-container {

	margin:0;
	float: left;
	max-height: 500px;
	max-width: 1000px;

}
.highcharts-g1aisdx-0{
 	height: 500;
	width: 800;
}
.chart{
	margin:0;
	min-height: 2em;
	float: right;
	padding:50;
	max-width: 800px;

}
/* sCATTER STYLE */
.axis text {
  font: 20px sans-serif;
  margin : 5px;
}

.axis path,
.axis line {
  fill: none;
  stroke: 10;
  shape-rendering: crispEdges;
}

.bar {
  fill: steelblue;
  fill-opacity: .9;
}

.bar:hover {
  fill: blue;
}

label {
  position: absolute;
  top: 10px;
  right: 10px;
	stroke:none;
}
#comment{
	text-align: justify;
	float:	left;
	padding:0;
	width: 800px;
	color: gray;
	margin:0;
	line-height: 1.35;
}
<meta name="viewport" content="width=device-width, initial-scale=1" />

</style>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<title>Dataviz' Café</title>


</head>


<body>

<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script>   $(document).ready(function(){
	   $(window).bind('scroll', function() {
	   var navHeight = $( window ).height() -70;
			 if ($(window).scrollTop() > navHeight) {
				 $('nav').addClass('fixed');
			 }
			 else {
				 $('nav').removeClass('fixed');
			 }
		});
	});
</script>

<section id="screen1" style="height:100vh;margin:0; padding:0;">

<div class='logo' >
	 <img src="http://www.ensai.fr/files/_media/images/l_ecole/ensai_logo_dev_transparent.png" style="width:300px; height:150px;float:right;margin:0;padding:50px; margin-bottom:0;" >



<p style="float:left;margin:0;padding:50px;color:white;" align='left'>
Group :  <br>
 <i>LE GALL, Marine  <br>
MALLART, Cyrielle <br> </i>
ENSAI, Msc Statistics for Smart Data 
</p>
</div>


<div style="float:left;padding:50px;margin:0px;">
<p align='justify' style="margin:150;color:white;padding:50;">
Welcome to the Dataviz Café !<br><br>

Here, we analyse data on a café to give you the best concentrate of information, ready to digest  !<br><br> 
We feel that the exploration and analysis of data from a customer-based business like a cafe does not have to be only restrospective, but can also be a significant asset to better the offer and make marketing decisions optimal. We thus chose to redact this project not from the point of view of students who would discover the subject several years after the collection of the data, but as 'advisors' that could help this project become more cost-efficient.
<br><br>
In this perspective, we decided on two main axis : to rise the sales of products and reduce the waste. One rises their profit if they raise sales and limits the losses. Achieving the first goal would be done by understanding the context in which each product is more likely to be sold, so as to market them the right way at the right moment. In a second time, by understanding the mechanics behind the wastes we may make management of the stock more efficient. But firstly, as the stocks of the beverages are not as perishable as the ones for other food products, we will try to understand them on their own.
	
<br><br>More information can be found on the enclosed document :<br> <a href="http://ww2.amstat.org/publications/jse/v19n1/depaolo.pdf">
Concetta A. DePaolo, David F. Robinson, <em>Journal of Statistics Education</em>, Volume 19, Number 1 (2011)</a> </p>
</div>

<nav>
 <ul>
  	<li><a href="#section1">Dataset</a></li> /
	<li><a href="#section2">Panorama</a></li> /
	<li><a href="#section3">Daily Sales</a></li> /
	<li><a href="#section35">Temperature effect</a></li> /
	<li><a href="#section4">Wastes</a></li> /
	<li><a href="#section5">Strategy</a></li> /
	<li><a href="#end">Overview</a></li>
 </ul>
</nav>

</section>
<section id="section1">
<h1>Dataset presentation</h1>
<div id="comment">
This cafe was created by a team of ten senior-level business strategy students. In this university, the College of Business and the College of Education were located in two different buildings, where the College of Business only had a sandwich shop. However, after the renovation and re-opening of a new deli in the College of Education, the decision was made to close the sandwich shop. It led to discontent from the few customers left at the College of Business, but a traditional for-profit establishment would not have been able to survive, hence the creation of this student-driven café.
Some noticeable features of this database are the fact that it starts on a Tuesday and stops on a Thursday, thus leaving the first and last week uncomplete. There is also some missing data on the Friday corresponding to the last Friday before the Springbreak. The week of Springbreak is thus to be acknowledged, as there is not one week with null values in the dataset but just a cut in the dates which could lead to misinterpretation.<br><br>
The temperatures are taken from the weather website called,<a href='http://www.wunderground.com/history/'>Weather Underground</a>, which explains that a temperature has been recorded for the Friday before Springbreak while no other data is available for that day.<br><br>
What is more, there is in the database the number of items sold and wasted for “solid” food items such as wraps, muffins, cookies or fruit cups. But as for drinks such as coffee, juice or soda, there is no waste and only the number or cups solds, most probably because the juices and sodas were delivered in cans. <br><br>
The main variables and their main statistics are presented in the following table.
<br>These are the original variables given in the database. However, we want to draw the reader’s attention to the fact that, for ease of understanding for a European reader, we have converted the temperatures in Celsius degrees in the rest of the page.
</div>
<div id="result" style="float:right;padding:20;">
<table id="table-sparkline" class="chart">
    <thead>
        <tr>
            <th>Name</th>
            <th>Obs</th>
            <th>Min</th>
            <th>Max</th>
            <th>Mean</th>
            <th>Variance</th>
  	    <th>Median</th>
        <th>Variation with time</th>
        </tr>
    </thead>
    <tbody id="tbody-sparkline">
        <tr>
            <th>Bread.Sand.Sold</th>
            <td>47</td>
            <td>0</td>
   	    <td>9</td>
	    <td>4.70</td>
	    <td>2.24</td>
	    <td>4</td>
<td data-sparkline= "  5, 6, 8, 4, 3, 7, 6, 0, 3, 2, 3, 4, 9, 1, 3, 8, 7, 8, 2, 3, 8, 6, 4, 4, 6, 7, 6, 5, 2, 3, 8, 4, 4, NA, 6, 7, 3, 5, 2, 4, 8, 4, 6, 1, 2, 6, 4, 4  " />
                                                                                                                                                                                                                         
        </tr>
        <tr>
            <th>Bread.Sand.Waste</th>
            <td>47</td>
            <td>0</td>
   	    <td>8</td>
	    <td>1.57</td>
	    <td>2.14</td>
	    <td>0</td>
<td data-sparkline= "  3, 8, 2, 2, 0, 1, 6, 0, 4, 6, 7, 4, 1, 1, 5, 0, 0, 0, 0, 3, 0, 0, 2, 0, 0, 0, 0, 3, 0, 2, 0, 0, 0, NA, 0, 1, 3, 3, 0, 2, 0, 0, 0, 1, 4, 0, 0, 0  " />                                                                                                                                                                                                                            
        </tr>
        <tr>
            <th>Wraps.Sold</th>
            <td>47</td>
            <td>4</td>
   	    <td>25</td>
	    <td>13.15</td>
	    <td>5.87</td>
	    <td>13</td>
<td data-sparkline= "  25, 7, 14, 5, 10, 5, 19, 7, 4, 13, 10, 15, 13, 6, 14, 16, 12, 19, 4, 12, 22, 8, 19, 10, 16, 23, 15, 22, 5, 9, 21, 13, 14, NA, 17, 19, 13, 15, 4, 13, 14, 9, 18, 4, 9, 25, 15, 16  " />                                                                                                                                                                                           
                                                                                                                                                                                          
        </tr>
        <tr>
            <th>Wraps.Waste</th>
 		<td>47</td>
            <td>0</td>
   	    <td>17</td>
	    <td>1.66</td>
	    <td>3.14</td>
	    <td>0</td>
<td data-sparkline= "  5, 17, 0, 7, 0, 3, 3, 0, 9, 3, 2, 0, 0, 2, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, NA, 0, 0, 0, 3, 7, 4, 4, 0, 1, 1, 2, 0, 0, 0  " />                                                                                                                                                                                                                           

        </tr>
        <tr>
            <th>Muffins.Sold</th>
 <td>47</td>
            <td>0</td>
   	    <td>28</td>
	    <td>5.85</td>
	    <td>4.79</td>
	    <td>5</td>
<td data-sparkline= "  5, 3, 4, 5, 8, 1, 6, 6, 0, 3, 5, 4, 14, 2, 2, 11, 5, 12, 0, 6, 1, 9, 10, 4, 9, 12, 1, 8, 28, 5, 10, 8, 6, NA, 3, 5, 3, 1, 5, 3, 7, 8, 3, 3, 3, 11, 1, 6  " />                                                                                                                                                                                                                    


      </tr>
        <tr>
            <th>Muffins.Waste</th>
            <td>47</td>
            <td>0</td>
   	    <td>5</td>
	    <td>0.62</td>
	    <td>1.19</td>
	    <td>0</td>
<td data-sparkline= "  1, 5, 0, 0, 0, 0, 0, 1, 4, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 2, 0, NA, 0, 2, 4, 2, 2, 0, 0, 0, 0, 1, 0, 1, 0, 0  " />                                                                                                                                                                                                                            
                                                                                                                                                                                                           

        </tr>
        <tr>
            <th>Cookies.Sold</th>
             <td>47</td>
            <td>0</td>
   	    <td>13</td>
	    <td>5.79</td>
	    <td>3.26</td>
	    <td>5</td>
<td data-sparkline= "  5, 1, 1, 3, 3, 5, 10, 0, 3, 6, 5, 4, 13, 1, 8, 9, 7, 9, 2, 8, 3, 10, 9, 4, 7, 12, 6, 4, 8, 6, 9, 8, 8, NA, 4, 13, 6, 5, 3, 2, 4, 5, 3, 5, 1, 9, 9, 6  " />                                                                                                                                                                                                                       
                                                                                                                                                                                                                               
         


        </tr>
        <tr>
            <th>Cookies.Waste</th>
   <td>47</td>
            <td>0</td>
   	    <td>6</td>
	    <td>1.04</td>
	    <td>1.44</td>
	    <td>0</td>
<td data-sparkline= "  3, 6, 0, 1, 0, 0, 0, 0, 2, 0, 0, 1, 0, 1, 0, 1, 3, 0, 0, 2, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 2, 0, NA, 0, 0, 0, 2, 3, 4, 3, 4, 1, 1, 0, 0, 4, 0  " />                                                                                                                                                                                                                            
                                                                                                                                                                                                                           

        </tr>
        <tr>
            <th>Fruit.Cup.Sold</th>
 	    <td>47</td>
            <td>0</td>
   	    <td>4</td>
	    <td>1.70</td>
	    <td>1.16</td>
	    <td>2</td>
<td data-sparkline= "  1, 0, 0, 3, 2, 2, 2, 0, 1, 2, 1, 2, 3, 0, 1, 2, 1, 2, 2, 2, 3, 1, 3, 0, 1, 4, 1, 4, 0, 2, 2, 3, 2, NA, 2, 1, 0, 4, 1, 2, 2, 2, 2, 1, 0, 4, 3, 1  " />                                                                                                                                                                                                                            

        </tr>
        <tr>
            <th>Fruits.Cup.Waste</th>
            <td>47</td>
            <td>0</td>
   	    <td>4</td>
	    <td>0.36</td>
	    <td>0.90</td>
	    <td>0</td>
<td data-sparkline= "  4, 3, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 1, 0, 0, 0  " />                                                                                                                                                                                                                            
                                                                                                                                                                                                                                
        </tr>
        <tr>
            <th>Chips</th>
            <td>47</td>
            <td>0</td>
   	    <td>25</td>
	    <td>9.15</td>
	    <td>5.52</td>
	    <td>9</td>
<td data-sparkline= "  12, 0, 0, 20, 0, 4, 2, 20, 3, 16, 2, 9, 13, 10, 9, 11, 14, 4, 25, 7, 13, 11, 8, 14, 11, 21, 11, 10, 11, 10, 12, 9, 8, NA, 9, 11, 7, 8, 1, 8, 7, 7, 9, 3, 4, 9, 6, 11  " />                                                                                                                                                                                                       

        </tr>
	<tr>
            <th>Juices</th>
 <td>47</td>
            <td>0</td>
   	    <td>21</td>
	    <td>4.94</td>
	    <td>3.70</td>
	    <td>4</td>
<td data-sparkline= "  8, 0, 13, 0, 5, 4, 5, 6, 4, 7, 0, 6, 6, 1, 2, 8, 3, 2, 2, 7, 5, 2, 12, 4, 2, 5, 5, 4, 21, 7, 7, 4, 5, NA, 3, 4, 4, 5, 3, 7, 6, 5, 4, 2, 0, 10, 4, 3  " />                                                                                                                                                                                                                        


      </tr>
        <tr>
            <th>Sodas</th>
            <td>47</td>
            <td>11</td>
   	    <td>55</td>
	    <td>29.57</td>
	    <td>11.86</td>
	    <td>29</td>
<td data-sparkline= "  20, 13, 23, 13, 13, 33, 15, 27, 12, 19, 33, 20, 29, 14, 17, 31, 24, 31, 15, 26, 39, 24, 35, 11, 25, 36, 33, 37, 22, 36, 54, 34, 43, NA, 24, 48, 35, 33, 24, 30, 50, 45, 50, 26, 26, 55, 42, 45  " />                                                                                                                                                                             
                                                                                                                                                                      
                                                                                                                                                                                    

        </tr>
        <tr>
            <th>Coffees</th>
            <td>47</td>
            <td>3</td>
   	    <td>48</td>
	    <td>21.51</td>
	    <td>11.08</td>
	    <td>23</td>
<td data-sparkline= "  41, 33, 34, 27, 20, 23, 32, 31, 30, 27, 30, 27, 26, 24, 18, 22, 21, 28, 23, 31, 29, 48, 25, 31, 25, 35, 33, 35, 16, 24, 20, 11, 21, NA, 8, 8, 4, 4, 3, 5, 6, 4, 13, 4, 16, 14, 10, 11  " />                                                                                                                                                                                      

                                                                                                                                                                               
     </tr>
        <tr>
            <th>Total.Soda.and.Coffee</th>
             <td>47</td>
            <td>27</td>
   	    <td>74</td>
	    <td>51.08</td>
	    <td>12.56</td>
	    <td>52</td>
<td data-sparkline= "  61, 46, 57, 40, 33, 56, 47, 58, 42, 46, 63, 47, 55, 38, 35, 53, 45, 59, 38, 57, 68, 72, 60, 42, 50, 71, 66, 72, 38, 60, 74, 45, 64, NA, 32, 56, 39, 37, 27, 35, 56, 49, 63, 30, 42, 69, 52, 56  " />                                                                                                                                                                             
        </tr>
        <tr>
            <th>Sales ($)</th>
           <td>47</td>
            <td>61.94</td>
   	    <td>240.87</td>
	    <td>148.22</td>
	    <td>45.46</td>
	    <td>150.51</td>
<td data-sparkline= "  199.95, 195.74, 102.68, 162.88, 101.76, 186.94, 120.18, 228.78, 88.02, 119.57, 172.31, 137.65, 197.56, 70, 97, 181.43, 125.57, 180.63, 75.87, 150.51, 177.41, 153.84, 205.36, 118.54, 138.04, 236.01, 149.58, 206.17, 93.1, 151.91, 217.29, 148.24, 168.08, NA, 130.77, 164.54, 121.41, 127.93, 61.94, 128.59, 159.23, 148.08, 164.86, 74.13, 82.96, 240.87, 151.52, 150.99  " />
                                                                                                                                                                      
        </tr>
        <tr>
            <th>Max.Daily.Temperature..F.</th>
		<td>48</td>
         <td>20.0</td>
   	    <td>80.0</td>
	    <td>41.92</td>
	    <td>14.29</td>
	    <td>37.50</td>
      
<td data-sparkline= "  36, 34, 39, 40, 36, 26, 34, 33, 20, 37, 38, 33, 39, 35, 31, 29, 26, 28, 30, 26, 29, 29, 34, 39, 36, 33, 28, 33, 35, 40, 39, 39, 45, 47, 48, 61, 64, 64, 65, 47, 62, 66, 56, 49, 56, 62, 76, 80  " />                                                                                                                                                                             
  </tr>
        <tr>
            <th>Total.Items.Wasted</th>
 <td>47</td>
            <td>0</td>
   	    <td>39</td>
	    <td>5.25</td>
	    <td>6.70</td>
	    <td>4</td>
<td data-sparkline= "  16, 39, 5, 10, 0, 4, 9, 1, 20, 9, 9, 6, 1, 4, 7, 1, 3, 0, 0, 5, 1, 2, 2, 2, 0, 0, 1, 4, 2, 4, 2, 4, 0, NA, 0, 3, 7, 10, 12, 10, 9, 4, 2, 5, 7, 1, 4, 0  " />  
     
        </tr>
    </tbody>
</table>
</div>
</section>

<section id="section2">
<h1>Panorama of the sales</h1>
<div id="comment">This graph is not per se an analysis of the data, but more of a panorama of the sales.<br><br>
It shows three interesting things that allow us to chose an axis to work on. 
We here separated the products in three categories : drinks, sweet (such as cookies or muffins) and savoury (wraps, bread).<br><br>
Firstly, the traffic in the cafe varies but there is not big tendency. This café is not making huge profits, but neither is it in jeopardy. Their current levels of sales might be the ones that happen at equilibrium: the café has met its customers and marketing target.<br><br>
An interesting point is that drinks make for most of the sales, 
while sweet and savoury products are sold at a much lower level and share an almost identical evolution.
However, the big ups and downs in the sales correspond to those of the solid food products.<br><br>
It thus looks like drinks are cheaper than other products,
and that drinks are a way to attract customers to the café while most of the profit is made on food products.
It would then be interesting to have a further look at the drinks 
as they might be the main attraction for customers to come to the café. 
</div>
<div  id='container2' class="chart"></div>
</section>
<script type='text/javascript'>

$(function () {

    /**
     * In order to synchronize tooltips and crosshairs, override the
     * built-in events with handlers defined on the parent element.
     */
$('#container2').bind('mousemove touchmove touchstart', function (e) {
    var chart,
        point,
        i,
        event;

    for (i = 0; i < Highcharts.charts.length; i = i + 1) {
        chart = Highcharts.charts[i];
        event = chart.pointer.normalize(e.originalEvent); // Find coordinates within the chart
        point = chart.series[0].searchPoint(event, true); // Get the hovered point

        if (point) {
            point.highlight(e);
        }
    }
});

  Highcharts.Pointer.prototype.reset = function () {
    return undefined;
};

/**
 * Highlight a point by showing tooltip, setting hover state and draw crosshair
 */
Highcharts.Point.prototype.highlight = function (event) {
    this.onMouseOver(); // Show the hover marker
    this.series.chart.tooltip.refresh(this); // Show the tooltip
    this.series.chart.xAxis[0].drawCrosshair(event, this); // Show the crosshair
};

/**
 * Synchronize zooming through the setExtremes event handler.
 */
function syncExtremes(e) {
    var thisChart = this.chart;

    if (e.trigger !== 'syncExtremes') { // Prevent feedback loop
        Highcharts.each(Highcharts.charts, function (chart) {
            if (chart !== thisChart) {
                if (chart.xAxis[0].setExtremes) { // It is null while updating
                    chart.xAxis[0].setExtremes(e.min, e.max, undefined, false, { trigger: 'syncExtremes' });
                }
            }
        });
    }
}

   var colors = ['#ff6d02','#dbdbeb','#7577cd','#080957'];
   var mycol  = ['#ff6d02', 'null', 'null','null'];
   var activity = { 
      "datasets": [
          {
            "name": "Sales", 
            "data": [199.95, 195.74, 102.68, 162.88, 101.76, 186.94, 120.18, 228.78, 88.02, 119.57, 172.31, 137.65, 197.56, 70, 97, 181.43, 125.57, 180.63, 75.87, 150.51, 177.41, 153.84, 205.36, 118.54, 138.04, 236.01, 149.58, 206.17, 93.1, 151.91, 217.29, 148.24, 168.08, null, 130.77, 164.54, 121.41, 127.93, 61.94, 128.59, 159.23, 148.08, 164.86, 74.13, 82.96, 240.87, 151.52, 150.99], 
            "unit": "$", 
            "type": "line", 
            "valueDecimals": 0,
            "colour": "#dbdbeb"
          },
          {
            "name": "Drinks", 
            "data": [69, 46, 70, 40, 38, 60, 52, 64, 46, 53, 63, 53, 61, 39, 37, 61, 48, 61, 40, 64, 73, 74, 72, 46, 52, 76, 71, 76, 59, 67, 81, 49, 69, null,35, 60, 43, 42, 30, 42, 62, 54, 67, 32, 42, 79, 56, 59], 
            "unit": "Unit", 
            "type": "area", 
            "valueDecimals": 0,
            'stacking': 'normal',
          }, {
            "name": "Sweet", 
            "data": [ 11, 4, 5, 11, 13, 8, 18, 6, 4, 11, 11, 10, 30, 3, 11, 22, 13, 23, 4, 16, 7, 20, 22, 8, 17, 28, 8, 16, 36, 13, 21, 19, 16,null, 9,19, 9, 10, 9, 7, 13, 15, 8, 9, 4, 24, 13, 13], 
            "unit": "Unit", 
            "type": "area", 
            "valueDecimals": 0,
            "stacking": 'normal',
          }, {
            "name": "Savory", 
            "data": [23, 4, 5, 31, 13, 12, 20, 26, 7, 27, 13, 19, 43, 13, 20, 33, 27, 27, 29, 23, 20, 31, 30, 22, 28, 49, 19, 26, 47, 23, 33, 28, 24, null, 18, 30, 16, 18, 10, 15, 20, 22, 17, 12, 8, 33, 19, 24], 
            "unit": "Unit", 
            "type": "area", 
            "valueDecimals": 0,
            "stacking": 'normal'
            }
       
         
      ]
    };

var mytype = ['line','area','area','area'];
        $.each(activity.datasets, function (i, dataset) {
            $('<div class="chart">')
                .appendTo('#container2')
                .highcharts({
                    chart: {
                        marginLeft: 40, // Keep all charts left aligned
                        spacingTop: 0,
                        spacingBottom: 0,
			type: mytype[i],
			width: 800,
			height : 125,
			margin: [10, 10, 10, 10],
			spacing: [3, 3, 3, 3],
                    },
                    title: {
                        text: dataset.name,
                        align: 'left',
                        margin: 10,
                        x: 30,


style:{
			fontSize: '30px'},

                    },
		   navigation: {
        buttonOptions: {
            enabled: false
        }},
                    credits: {
                        enabled: false
                    },
                    legend: {
                        enabled: false
                    },
                    xAxis: {
                       gridLineWidth: 0,
                        categories: ['1/19/2010', '1/20/2010', '1/21/2010', '1/22/2010', '1/25/2010', '1/26/2010', '1/27/2010', '1/28/2010', '1/29/2010', '2/1/2010', '2/2/2010', '2/3/2010', '2/4/2010', '2/5/2010', '2/8/2010', '2/9/2010', '2/10/2010', '2/11/2010', '2/12/2010', '2/15/2010', '2/16/2010', '2/17/2010', '2/18/2010', '2/19/2010', '2/22/2010', '2/23/2010', '2/24/2010', '2/25/2010', '2/26/2010', '3/1/2010', '3/2/2010', '3/3/2010', '3/4/2010', '3/15/2010', '3/16/2010', '3/17/2010', '3/18/2010', '3/19/2010', '3/22/2010', '3/23/2010', '3/24/2010', '3/25/2010', '3/26/2010', '3/29/2010', '3/30/2010', '3/31/2010', '4/1/2010'],
                     showEmpty: true,
                     tickInterval: 47,    
                     minorGridLineWidth: 0,
                     lineColor: 'transparent',
                      labels: {
                          style: 
                          {
                            color: 'black',
                            fontSize: '15px'
                          }
                        }
                    },
                    yAxis: {
                        title: {
                            text:null,
                        },
                        tickInterval: 100,
                        gridLineWidth: 0
                    },
                    tooltip: {
                    positioner: function () {
                        return {
                            x: this.chart.chartWidth - this.label.width, // right aligned
                            y: 10 // align to title
                        };
                    },
                    borderWidth: 0,
                    backgroundColor: 'none',
                    pointFormat: '{point.y}',
                    headerFormat: '',
                    shadow: false,
                    style: {
                        fontSize: '18px'
                    },
                    valueDecimals: dataset.valueDecimals
                },
                    series: [{
                        data: dataset.data,
                        name: dataset.name,
                        type: dataset.type,
                        color: colors[i],
                        fillOpacity: 0.9,
                        tooltip: {
                       	  
                            valueSuffix: '' + dataset.unit,
                            split : true,
                                borderColor: 'black'
                                             },
                        lineColor: mycol[i],
                        marker : {
                		enabled: false
            							},
			

                       
                    }]
                });
        });
			});

	</script>


<section id="section3">
<h1>More sales on the T-days</h1>
<div id="comment">
Total sales do not happen at the same level every day. While the variation in levels of sales are higher on Thursdays and limited on Wednesdays for example, it is clear that Tuesdays and Thursdays are the busiest days. The low affluence on Mondays and Fridays could be explained by the proximity with the weekend : potential customers stay on a longer weekend or leave the campus early after class on Friday.<br><br> Thus they do not take the time to buy lunch or dinner at the café, which is shown by the low level of wraps sold.<br><br>
Tuesdays and Thursdays are historically the days that are the heaviest in American universities, with a lot of classes. The café is very convenient and thus attracts both teachers and students. 
<br><br>
Wednesday, on the other hands, is a day where sales are consistent : the levels of sales vary very little. Sales are also relatively low on Wednesdays, compared to the day before and the day after, though bit higher than Mondays and Fridays. This relatively low amount makes us wonder what happens, because we would expect the middle of the week to be busy and the cafe to sell a lot. One explanation could be that the competition sells food on Wednesdays; indeed the coffee sales are almost the same in the middle of the week, which shows the café is visited. On the other hand, the sales of food items, especially wraps, diminishes.

It would then be advisable to get some more staff on Thursdays or Tuesdays, or maybe promote the café during days where the affluence is low, by putting signs up maybe.</div>
<div id="container" class="chart" style="width: 800px; height: 500px;">
	<script  type='text/javascript'>

	    //<![CDATA[
		var mycolors = ['#ff6d02','#dbdbeb','#7577cd','#080957'];

	Highcharts.chart('container', {
			colorAxis: {
	       		gridLineColor:'transparent',
	       		tickInterval: 0
	    },
	     plotOptions: {
		series: {
		    groupPadding: 0.4,
		    color: mycolors[2],
		    fillColor:mycolors[2],
		    medianColor: 'white',
		    lineWidth: 2,
		    medianWidth: 3,
		    stemDashStyle: 'dot',
		    stemWidth: 0,
		    whiskerColor: mycolors[2],
		    whiskerLength: '50%',
		    whiskerWidth: 2


		}
	    },
	    chart: {
		type: 'boxplot',
		height: 500,
		width: 800,
		
	    },
	    title: {
		text: 'Distribution of the sales depending on the day of the week',
		align: 'left',
		style:{
			fontSize:'25px'},
	
	    },
	 credits: {
                        enabled: false
                    },

	    legend: {
		enabled: false
	    },
	    xAxis: {
		categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
		lineColor: 'white',
		lineWidth: 8,
		tickColor:'white',
		labels:{
			style:{
				fontSize:'19px',
				}
			},

	    },

	    yAxis: {
		title: {
		    text: 'Sales ($)',
		    style:{
		    fontSize:'20px',}
		},
		labels:{
			style:{
				fontSize:'19px',
				}
			},

	    
	 	tickInterval: 148,
		plotLines: [{
		    value: 148,
		    color: mycolors[2],
		    width: 1,
		    label: {
		        text: 'Global median',
		        align: 'right',
			    }
		}]
	    },

	    series: [{
		name: 'Sales',
		data: [
	[82.96,101.76 ,128.59 ,138.04 ,151.91 ],
	[159.230 ,172.310 ,184.185 ,217.290 ,240.870], 
	[120.18 ,125.57 , 148.16 ,151.52,153.84 ],
	[102.680 ,150.990  ,174.355 ,205.360 ,228.780],
	[61.940, 72.065, 81.945,  105.820, 118.540]
		],
		tooltip: {
		    headerFormat: '<em>Sales done on {point.key}</em><br/>',
			
             
                    
		}
	    ,
	    }]

	});
	    //]]>
	    //]]>

	</script>
</div>
</section>
<section id="section35" >
<h1>Sodas smells like summer</h1>
<div id='comment'> The cafe offers three kind of drinks: coffee, soda and juice. Firstly, juices are much less popular than both coffee and soda, so the levels of sales for this particular product cannot be explained by anything else than someone randomly wanting a juice.<br><br>
However, there is a strong effect of temperature for coffee and sodas. Both sodas and coffees are sold to the same levels if the temperature is below 5°C, but the consumption of coffee drops significantly when it reaches 5°C and above. At the same time, sodas sales rise.<br><br>
This is not an effect of the fact that we have more data points between 0 and 5°C than above 5°C, as proves a Chi Square test for Homogeneity. With a confidence level of 5%, the distribution of coffee and soda are significantly different according to the temperature.<br><br>
This is explained by the seasonal attraction of such products : coffee is a hot beverage that is good to warm up in cold climates, but customers prefer a refreshing and cold soda as temperature rises. Thus there are actions that can be taken according to the weather forecast and the season: in winter, it might be wiser to advertise coffee, and keep an eye on the forecasted temperatures for the next day to promote soda more as soon as it gets warmer.<br><br>
Note : it's possible to select an area to zoom in the graph, and to select a serie just click on its name in the legend.</div>
<div id="container35" class="chart" style="width: 800px; height: 500px;"></div>

<script type='text/javascript'>
Highcharts.chart('container35', {
    chart: {
        type: 'scatter',
        zoomType: 'xy'
    },
    credits:{
	enabled:false},
    title: {
        text: 'Influence of the temperature on the sales of drinks',
align: 'left',

style:{
			fontSize: '30px'},

    },

    xAxis: {
        title: {
            enabled: true,
            text: 'Temperature (°C)',
style:{	fontSize:'20px'}
       
        },
        lineColor: 'transparent',
        startOnTick: true,
        endOnTick: true,
        showLastLabel: true,
        tickLength :0,
        tickSize: 0,
        gridLineWidth:0,
	labels:{
style:{	fontSize:'20px'}}
    },
    yAxis: {
        title: {
            text: 'Units sold (in cups)',
		style:{	fontSize:'20px'}
        },
        color: 'transparent',
        gridLineWidth:0,
	labels:{
		style:{	
			fontSize:'20px'
			}
		}
  
    },
    legend: {
        layout: 'vertical',
        align: 'left',
        verticalAlign: 'top',
        x: 70,
        y: 50,
        floating: true,
        backgroundColor: 'transparent',
        borderWidth: 0,
	itemStyle: {
            color: '#000000',
            fontSize: '20px'
        },
    },
    plotOptions: {
        scatter: {
            lineWidth:0,
        	},
  	series: {
	    allowSerieSelect:true,
            marker:{
		states: {
           
	 	select: {
                        fillColor: 'red',
                        lineWidth: 0,
			lineColor: 'red'
                    },
           	 },


    		}}},
                 
         
    tooltip: {
            enabled: false
        },
    series: [{
	
        name: 'Soda',
        color: "#7577cd",
	marker: {
            symbol: 'circle'
        },
        data: [[27, 45], [24, 42], [17, 55], [13, 26], [9, 26], [13, 50], [19, 45], [17, 50], [8, 30], [18, 24], [18, 33], [18, 35], [16, 48], [9, 24],// [8, NA],
            [7, 43], [4, 34], [4, 54], [4, 36], [2, 22], [1, 37], [-2, 33], [1, 36], [2, 25], [4, 11], [1, 35], [-2, 24], [-2, 39], [-3, 26], [-1, 15], [-2, 31], [-3, 24], [-2, 31], [-1, 17], [2, 14], [4, 29], [1, 20], [3, 33], [3, 19], [-7, 12], [1, 27], [1, 15], [-3, 33], [2, 13], [4, 13], [4, 23], [1, 13], [2, 20]]
    },{
      name:'Juice',
      marker: {
            symbol: 'circle'
        },
      color: "#ff6d02",
      data : [[27, 3], [24, 4], [17, 10], [13, 0], [9, 2], [13, 4], [19, 5], [17, 6], [8, 7], [18, 3], [18, 5], [18, 4], [16, 4], [9, 3], //[8,NA],
      [7, 5], [4, 4], [4, 7], [4, 7], [2, 21], [1, 4], [-2, 5], [1, 5], [2, 2], [4, 4], [1, 12], [-2, 2], [-2, 5], [-3, 7], [-1, 2], [-2, 2], [-3, 3], [-2, 8], [-1, 2], [2, 1], [4, 6], [1, 6], [3, 0], [3, 7], [-7, 4], [1, 6], [1, 5], [-3, 4], [2, 5], [4, 0], [4, 13], [1, 0], [2, 8]]    
    },{
        name: 'Coffee',
	marker: {
            symbol: 'circle'
        },
       	color: "#080957",
        data: [[27, 11], [24, 10], [17, 14], [13, 16], [9, 4], [13, 13], [19, 4], [17, 6], [8, 5], [18, 3], [18, 4], [18, 4], [16, 8], [9, 8],// [8, NA],
        [7, 21], [4, 11], [4, 20], [4, 24], [2, 16], [1, 35], [-2, 33], [1, 35], [2, 25], [4, 31], [1, 25], [-2, 48], [-2, 29], [-3, 31], [-1, 23], [-2, 28], [-3, 21], [-2, 22], [-1, 18], [2, 24], [4, 26], [1, 27], [3, 30], [3, 27], [-7, 30], [1, 31], [1, 32], [-3, 23], [2, 20], [4, 27], [4, 34], [1, 33], [2, 41]]
    }]
});</script>
</section>
<section id="section4">
<h1>When does waste occur at all?</h1>
<div id='comment'>Waste is obviously hard to handle at first. It needs to be tuned so as to keep it to minimum.  This requires time, and habit, which explains why there is a high-waste burn-in period during the first week and after the return from spring break. There definitely seems to be a learning curve in managing the stocks so as not to waste too many items: the students are adjusting to the number of customers they expect to have.<br><br>
The following visualiation was the first we made to see how waste evolved, but we chose the heatmap visualisation as we felt it made some things clearer.<br><br>
Firstly, the time series approach is a more classical way to see data that evolves over time, and might be easier to grasp for the reader. It also allows to display the first period of 'burn-in' more obviously through the high fluctuation of the first few points.<br><br>
However, as we highlighted in a previous point that the sales vary heavily depending on the day of the week, we wanted to show as well that waste depended not only on the week but also varied according to the day of the week : instead of representing our data on only two axis, we made it three-dimensional. It was thus easier to identify that Mondays are days where waste occurs the most, and Thursdays days when waste occurs the less. <br><br>
What is more, it is easier to warn the reader about the Springbreak week. On a time series graph, the reader might be misleaded into a false idea of continuity, when we actually have a whole week where no data has been recorded. On the heatmap this break in easier to display, and we read it more as comparison between weeks than a succession of time points. It also makes a more visually striking comparison between what happenned before and after that week as the colors change.</div>
<script src="https://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div  id='container4' class="chart" style="height: 500px; width: 800px;"></div>
<script type='text/javascript'>

Highcharts.chart('container4', {
		credits:{
    enabled : false,
    }, 
    
    chart: {
        type: 'heatmap',
        marginTop: 40,
        marginBottom: 80,
        plotBorderWidth: 1
    },

    title: {
        text: 'Total daily wastes',
	align: 'left',

		style:{
			fontSize: '30px'},


    },

    xAxis: {
    	tickWidth:0, 
        categories: ['Week1','Week2','Week3','Week4','Week5','Week6','Week7','Week8','Week9','Week10',],
labels:{style:{
			fontSize: '20px'}},
				plotLines:[{
				color : "#ff6d02",
        value : 6.5,
        width : 2,
        zIndex: 4,
        label : {
        	text : "Springbreak week",
          	align : "left",
		style:{
			fontSize: '20px'},
        }       
        }]
    },

    yAxis: {
        categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
        title: null,
        reversed :true,
	labels:{
style:{
			fontSize: '20px'},
	},
    },

    colorAxis: {
        min: 0,
        max: 20,
        minColor: '#f7f7f7',
        maxColor:'#7577cd'
    },

    legend: {
    		enabled : true,
        align: 'right',
        layout: 'vertical',
        margin: 0,
        verticalAlign: 'top',
        y: 25,
        symbolHeight: 380,
labels:{
style:{
			fontSize: '20px'},
	},
    },

    tooltip: {
        formatter: function () {
            return 'On the <b>' + this.series.yAxis.categories[this.point.y] + '</b> of <br><b>' +this.series.xAxis.categories[this.point.x]+ '</b> the cafe wasted <br><b>'+
                this.point.value + '</b> items';
        }
    },
		
    plotOptions: {
    	heatmap :{
    		nullColor : "#ffd3a5",
       },
    },
    
    series: [{
        name: 'Sales per employee',
        borderWidth: 0,
        data:  [[0, 0, null], [0, 1, 16], [0, 2, 39], [0, 3, 5], [0, 4, 10], [1, 0, 0], [1, 1, 4], [1, 2, 9], [1, 3, 1], [1, 4, 20], [2, 0, 9], [2, 1, 9], [2, 2, 6], [2, 3, 1], [2, 4, 4], [3, 0, 7], [3, 1, 1], [3, 2, 3], [3, 3, 0], [3, 4, 0], [4, 0, 5], [4, 1, 1], [4, 2, 2], [4, 3, 2], [4, 4, 2], [5, 0, 0], [5, 1, 0], [5, 2, 1], [5, 3, 4], [5, 4, 2], [6, 0, 4], [6, 1, 2], [6, 2, 4], [6, 3, 0], [6, 4,null ], [7, 0, 0], [7, 1, 3], [7, 2, 7], [7, 3, 10], [7, 4, 12], [8, 0, 10], [8, 1, 9], [8, 2, 4], [8, 3, 2], [8, 4, 5], [9, 0, 7], [9, 1, 1], [9, 2, 4], [9, 3, 0], [9, 4, null]],
        dataLabels: {
            enabled: false,
            color: '#000000'
        }
    }]

});

</script>
<div id="container3bis" style="width: 800px;height: 300px;margin: 0 auto>; float:right; clear:both;padding:30;"></div>
<script type='text/javascript'>
Highcharts.chart('container3bis', {
	credits : {
  	enabled : false,
  },
   chart: {
        type: 'area'
    },
    title: {
        text: 'Alternative visualization of the waste during the studied period',
        style : {
        	fontSize : '25px'
        },
align:'left',
    },

    yAxis: {
        title: {
            text: 'Units wasted',
        },
	min: 0,
	max: 45,
        style : {
        	fontSize : '20px'
        },
    gridLineWidth: 0,
        
    },
    xAxis :{tickWidth:0, 
		lineWidth:0,
     		style : {
				fontSize : '20px'
			},
plotLines:[{
				color : "#ff6d02",
        value : 34,
        width : 2,
        zIndex: 4,
        label : {
        	text : "Springbreak week",
          	align : "left",
		style:{
			fontSize: '20px'},
        }       
        }],
    },
    legend :{
    	enabled :false,
    },
		plotOptions :{
    	series :{
      	marker :{
      		enabled : false, 
      	},
        label :{
        	enabled : false,
        },
        lineWidth : 1.5 ,
    	}
    },
    series: [{
        name: 'Installation',
        color : '#7577cd',
        data: [16, 39, 5, 10, 0, 4, 9, 1, 20, 9, 9, 6, 1, 4, 7, 1, 3, 0, 0, 5, 1, 2, 2, 2, 0, 0, 1, 4, 2, 4, 2, 4, 0, null, 0, 3, 7, 10, 12, 10, 9, 4, 2, 5, 7, 1, 4, 0]
    }],
});


</script>






</div>
</section>



<script type='text/javascript'>

Highcharts.SparkLine = function (a, b, c) {
    var hasRenderToArg = typeof a === 'string' || a.nodeName,
        options = arguments[hasRenderToArg ? 1 : 0],
        defaultOptions = {
            chart: {
                renderTo: (options.chart && options.chart.renderTo) || this,
                backgroundColor: null,
                borderWidth: 0,
                type: 'area',
                margin: [0, 0, 0, 0],
                width: 120,
                height: 20,
                style: {
                    overflow: 'visible'
                },
        spacingBottom: 0,
        spacingTop: 0,
        spacingLeft: 0,
        spacingRight: 0,

                // small optimalization, saves 1-2 ms each sparkline
                skipClone: true
            },
            title: {
                text: ''
            },
            credits: {
                enabled: false
            },
            xAxis: {
                labels: {
                    enabled: false
                },
                title: {
                    text: null
                },
                startOnTick: false,
                endOnTick: false,
                tickPositions: []
            },
exporting: {
         enabled: false
},
            yAxis: {
                endOnTick: false,
                startOnTick: false,
                labels: {
                    enabled: false
                },
                title: {
                    text: null
                },
                tickPositions: [0]
            },
            legend: {
                enabled: false
            },
            tooltip: {
                backgroundColor: null,
                borderWidth: 0,
                shadow: false,
                useHTML: true,
                hideDelay: 0,
                shared: true,
                padding: 0,
                positioner: function (w, h, point) {
                    return { x: point.plotX - w / 2, y: point.plotY - h };
                }
            },
            plotOptions: {
                series: {
                    animation: false,
                    lineWidth: 1,
                    shadow: false,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    marker: {
                        radius: 1,
                        states: {
                            hover: {
                                radius: 2
                            }
                        }
                    },
                    fillOpacity: 0.25
                },
                column: {
                    negativeColor: '#910000',
                    borderColor: 'silver'
                }
            }
        };

    options = Highcharts.merge(defaultOptions, options);

    return hasRenderToArg ?
        new Highcharts.Chart(a, options, c) :
        new Highcharts.Chart(options, b);
};

var start = +new Date(),
    $tds = $('td[data-sparkline]'),
    fullLen = $tds.length,
    n = 0;

function doChunk() {
    var time = +new Date(),
        i,
        len = $tds.length,
        $td,
        stringdata,
        arr,
        data,
        chart;

    for (i = 0; i < len; i += 1) {
        $td = $($tds[i]);
        stringdata = $td.data('sparkline');
        arr = stringdata.split('; ');
        data = $.map(arr[0].split(', '), parseFloat);
        chart = {};

        if (arr[1]) {
            chart.type = arr[1];
        }
        $td.highcharts('SparkLine', {
            series: [{
                data: data,
                pointStart: 1
            }],
	    stickyTracking:true,
            tooltip: {
                headerFormat:  'Day #{point.x}</span><br/>',
                pointFormat: '<b>{point.y}</b>',
		hideDelay :0,
		shared: true,
		split: true,
            },
            chart: chart
        });

        n += 1;

        // If the process takes too much time, run a timeout to allow interaction with the browser
        if (new Date() - time > 500) {
            $tds.splice(0, i + 1);
            setTimeout(doChunk, 0);
            break;
        }


    }
}
doChunk();

</script>


<section id="section5">
<h1>Know where you come from... to know where you go</h1>
<div id='comment'>Each day, a student commands products for the next day and expired products are thrown away.<br><br> 
Thus the number of commanded items equals the sum of the items sold and the wasted items each week.<br><br>
We see that students running the café tend to order a few more units than they would need if sales stayed constant from week to week. It is to ensure they do not run out in case of a special event.
However, each week, the total umber of commanded items gets closer to the number of items that were sold the previous week : the students are learning and adapting their commands on the demand of the previous week. This is a “natural” adaptation and their stock management is getting wiser by the week.<br><br>
The week before the springbreak is an expection, as there were only 4 opened days, the ratio are biased in some way.

Thus, reducing the waste is not something that requires a strong punctual action, but is a learning phenomenon that needs time to find its optimum. There is nothing to advise to these students on waste reduction but to closely monitor previous sales and react on it.<br><br>
Note: The anticipation is the ratio of the number of items ordered against the sales done uring the previous week, expressed  in percent. So ervery positive value shows that they would expect a larger number of sales, when the points are above the bisectrice line while crossing the two variables.</div>
<div id='container5' class='chart' style="margin:0px 150px 150px 0px; height: 500px; width:500px;">
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script type='text/javascript'>
d3.csv("data.csv",function (data) {
// CSV section
  var body = d3.select('#container5')
  var selectData = [ { "text" : "Numbers of Items ordered" },
                     { "text" : "Sales done on the previous Week" },
                     { "text" : "Actual Sales" },
		     { "text" : "Time"},
                   ]

  // Select X-axis Variable
  var span = body.append('span')
    .text('Select X-Axis variable: ')
  var yInput = body.append('select')
      .attr('id','xSelect')
      .on('change',xChange)
    .selectAll('option')
      .data(selectData)
      .enter()
    .append('option')
      .attr('value', function (d) { return d.text })
      .text(function (d) { return d.text ;})
  body.append('br')

  // Select Y-axis Variable
  var span = body.append('span')
      .text('Select Y-Axis variable: ')
  var yInput = body.append('select')
      .attr('id','ySelect')
      .on('change',yChange)
    .selectAll('option')
      .data(selectData)
      .enter()
    .append('option')
      .attr('value', function (d) { return d.text })
      .text(function (d) { return d.text ;})
  body.append('br')

  // Variables
  var body = d3.select('#container5')
  var margin = { top: 70, right:0, bottom: 50, left: 80 }
  var h = 500 - margin.top - margin.bottom +15
  var w = 500 - margin.left - margin.right +15
  var formatPercent = d3.format('.2%')
  var colorScale = d3.scale.category20b().range(["#6800E5","#750DE6", "#821AE7", "#8F27E9", "#9C34EA", "#9000D2", 
    "#A941EC", "#B64EED", "#C35BEE", "#D068F0", "#DD75F1", "#EA82F3"])
  var xScale = d3.scale.linear()
    .domain([
      d3.min([0,d3.min(data,function (d) { return d['Numbers of Items ordered'] })]),
      d3.max([0,d3.max(data,function (d) { return d['Numbers of Items ordered'] })])
      ])
    .range([0,w])
  var yScale = d3.scale.linear()
    .domain([
      d3.min([0,d3.min(data,function (d) { return d['Numbers of Items ordered'] })]),
      d3.max([0,d3.max(data,function (d) { return d['Numbers of Items ordered'] })])
      ])
    .range([h,0])
  // SVG
  var svg = body.append('svg')
      .attr('height',h + margin.top + margin.bottom)
      .attr('width',w + margin.left + margin.right)
    .append('g')
      .attr('transform','translate(' + margin.left + ',' + margin.top + ')')
  // X-axis
  var xAxis = d3.svg.axis()
    .scale(xScale)
    .ticks(3)
    .orient('bottom')
  // Y-axis
  var yAxis = d3.svg.axis()
    .scale(yScale)
    .ticks(3)
    .orient('left')
  // Circles
  var circles = svg.selectAll('circle')
      .data(data)
      .enter()
    .append('circle')
      .attr('cx',function (d) { return xScale(d['Numbers of Items ordered']) })
      .attr('cy',function (d) { return yScale(d['Numbers of Items ordered']) })
      .attr('r','10')
      .attr('stroke','transparent')
      .attr('stroke-width',0)
      .attr('fill',function (d,i) { return colorScale(i) })
      .on('mouseover', function () {
        d3.select(this)
          .transition()
          .duration(500)
          .attr('r',20)
          .attr('stroke-width',3)
      })
      .on('mouseout', function () {
        d3.select(this)
          .transition()
          .duration(500)
          .attr('r',10)
          .attr('stroke-width',1)
      })
    .append('title') // Tooltip
      .text(function (d) { return d.variable +
                           
                           '\nPrevious sales: ' + d['Sales done on the previous Week'] +
			   '\nOrders size: ' + d['Numbers of Items ordered'] +
                           '\nAnticipation: ' + formatPercent(d['Numbers of Items ordered']/d['Sales done on the previous Week']-1)+
			   '\nActual num of sold items: ' + d['Actual Sales']+				
			   '\nReal evolution:' + formatPercent(d['Actual Sales']/d['Sales done on the previous Week']-1)
			  })
  // X-axis
  svg.append('g')
      .attr('class','axis')
      .attr('id','xAxis')
      .attr('transform', 'translate(0,' + h + ')')
      .call(xAxis)
    .append('text') // X-axis Label
      .attr('id','xAxisLabel')
      .attr('y',30)
      .attr('x',w)
      .attr('dy','.71em')
      .style('text-anchor','end')
      .text('Numbers of Items ordered')
  // Y-axis
  svg.append('g')
      .attr('class','axis')
      .attr('id','yAxis')
      .call(yAxis)
    .append('text') // y-axis Label
      .attr('id', 'yAxisLabel')
      .attr('transform','rotate(-90)')
      .attr('x',0)
      .attr('y',-60)
      .attr('dy','.71em')
      .style('text-anchor','end')
      .text('Numbers of Items ordered')
     var median = svg.append("line")
                     .attr("x1", 0)
                     .attr("y1", 400)
                     .attr("x2", 425)
                     .attr("y2", 0)
                     .attr("stroke-width", 2)
                     .attr("stroke", "#dbdbeb");

  function yChange() {
    var value = this.value // get the new y value
    yScale // change the yScale
      .domain([
        d3.min([0,d3.min(data,function (d) { return d[value] })]),
        d3.max([0,d3.max(data,function (d) { return d[value] })])
        ])
    yAxis.scale(yScale) // change the yScale
    d3.select('#yAxis') // redraw the yAxis
      .transition().duration(1000)
      .call(yAxis)
    d3.select('#yAxisLabel') // change the yAxisLabel
      .text(value)    
    d3.selectAll('circle') // move the circles
      .transition().duration(1000)
      .delay(function (d,i) { return i*100})
        .attr('cy',function (d) { return yScale(d[value]) })
  }

  function xChange() {
    var value = this.value // get the new x value
    xScale // change the xScale
      .domain([
        d3.min([0,d3.min(data,function (d) { return d[value] })]),
        d3.max([0,d3.max(data,function (d) { return d[value] })])
        ])
    xAxis.scale(xScale) // change the xScale
    d3.select('#xAxis') // redraw the xAxis
      .transition().duration(1000)
      .call(xAxis)
    d3.select('#xAxisLabel') // change the xAxisLabel
      .transition().duration(1000)
      .text(value)
    d3.selectAll('circle') // move the circles
      .transition().duration(1000)
      .delay(function (d,i) { return i*100})
        .attr('cx',function (d) { return xScale(d[value]) })
  }
})</script>
</div>
</section>
<section id="end">
<h1>What's to remember?</h1>
<div id="end" align='justify' style='color:gray;width:1000px;float:left;margin:100px;'>
One of the most interesting facts about this dataset was that even though drinks do not make for a huge part of the profit, 
they are vital because they bring customers in. It was then important to understand what drives the customers to chose a drink or not, 
and it turned out that the desire for a hot coffee or a cold soda depends chiefly on the temperature outside.<br><br>
One major recommendation we can make is then to always keep an eye on the weather forecast so as to propose the most desirable drink to draw customers in, 
which will in turn raise the sales on the mmore expensive products such as wraps of muffins.<br><br>
Another point is that to keep the cafe on tracks, the students have to closely monitor what they waste. They seem to be doing that just fine, as we see that they learn and adapt their commands to the levels of sales they expect.<br><br>
However, they have to re-train every now and then, especially after breaks or days off, during which they probably loose a bit their grasp on the cafe.<br><br>

But overall they're doing well !
</div>
</section>
</body>
</html>
